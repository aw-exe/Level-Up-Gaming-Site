<!DOCTYPE html>
<html lang="en us">

<head>

    <meta charset="utf-8">

    <title>Giphy-Level Up!</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!--Bootstrap CDN STYLE SHEET-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!--Our style Sheet-->
    <link rel="stylesheet" href="assets/style.css">
    <!--Web font kit -->
    <link rel="stylesheet" href="./assets/fonts/webfontkit-20191108-200501/stylesheet.css">

    <!--I AM ATTATCHING STEVENS FONT AWESOME KIT TO TEST IF THE FOOTER WORKS-->
    <!--FontAwesome Kit Code-->
    <script src="https://kit.fontawesome.com/4e9921963f.js" crossorigin="anonymous"></script>



</head>

<body>



    <div class="container">


        <!--LEVEL UP JUMBOTRON-->
        <div class="jumbotron jumbotron-fluid" id="jumbotron">
            <div class="container">
                <h1 class="display-4">LEVEL UP GAMING</h1>
                <img class="pikachu" src="https://i.gifer.com/4bXB.gif">
                <img class="bulb" src="https://i.gifer.com/WnES.gif">
                <img class="char" src="https://media1.giphy.com/media/7ydJ5K6gNUQXm/giphy.gif">
            </div>
        </div>

        <!--NAVBAR-->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="member-games" href="featuredGames.html">Featured Games</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="reviews.html">Reviews</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="hotpepper.html">Hot Pepper Gaming</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="giphy.html">GIPHY</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="walkthru.html">Walkthroughs</a>
                    </li>
                </ul>
                <!--SOCIAL MEDIA ICONS-->
                <!-- <div id="icons">
                    <i class="facebook fab fa-sm fa-facebook"></i>

                    <i class="twitch fab fa-sm fa-twitch"></i>

                    <i class="twitter fab fa-sm fa-twitter-square"></i>

                    <i class="instagram fab fa-sm fa-instagram"></i>

                    <i class="youtube fab fa-sm fa-youtube"></i>
                </div> -->
            </div>
        </nav>

        <br>

        <!--MAIN DIV CARD FOR EACH INDIVIDUAL PAGE-->
        <div class="row">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        Gif Search</div>
                    <div class="card-body" id="review-body">
                            <form class="form-inline md-form mr-auto mb-4">
                                    <input class="form-control mr-sm-2" type="text" id="gif-input" placeholder="Search for GIFS" aria-label="Search">
                                    <button class="btn btn-primary btn-rounded btn-sm my-0" id="gif-submit" type="button">SEARCH</button>
                                  </form>
                                  <div id="gifs"></div>
                    </div>
                </div>
            </div>

            <br>

            <!--SIGN UP FORM FOR NON-MEMBERS-->
            <div class="col-md-4" id="form">
                <form id="sign-up-form">

                    <div class="form-group">
                        <div class="card-header border border-primary p-3 mb-2 bg-primary text-white font-weight-bold">
                            <span>Become a Member</span></div>

                        <div class="form-group">
                            <label for="exampleInputPassword1">Username</label>
                            <input type="username" class="form-control" id="username" placeholder="Desired username">
                        </div>

                        <label for="exampleInputEmail1">Email address</label>
                        <input type="email" class="form-control" id="email" aria-describedby="emailHelp"
                            placeholder="Enter email">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPassword1">Password</label>
                        <input type="password" class="form-control" id="password"
                            placeholder="Must be at least 6 characters">
                    </div>

                    <!--Error Message DIV-->
                    <div class="text-center mt-2">
                        <p class="sign-up-error"></p>
                    </div>

                    <!-- End of ERROR DIV-->

                    <button type="submit" class="btn btn-primary" id="sign-up-button">SIGN UP</button>

                    <a href="#" class="card-link text-nowrap mt-3" id="member-link" data-toggle="modal"
                        data-target="#sign-in-modal">Already a Member?</a>

                </form>

                <!--ONCE LOGGED IN THIS APPEARS-->
                <div class="m-auto" id="greeting-card">
                    <div class="card text-center" style="width: 18rem;">
                        <div class="card-body">
                            <h5 class="card-title" id="user-greeting">PLACED HOLDER USERNAME</h5>
                            <h6 class="card-subtitle mb-2 text-muted">You are currently logged in</h6>

                           <!--Error messages for logout-->
                           <p id="log-out-error" class= "text-center mt-2"></p>

                            <a href="#" class="card-link" id="log-out">Logout</a>
                            
                        </div>
                    </div>
                </div>

                <!--MEMBER SIGN IN MODAL -->
                <div class="modal fade" id="sign-in-modal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h2>Member Sign-In</h2>
                            </div>

                            <div class="modal-body">
                                <form id="sign-in-form">

                                    <div class="form-group">
                                        <label for="exampleInputEmail1">Email address</label>
                                        <input type="email" class="form-control" id="member-email"
                                            placeholder="Enter email">
                                    </div>

                                    <div class="form-group">
                                        <label for="exampleInputPassword1">Password (must be at least 6
                                            characters)</label>
                                        <input type="password" class="form-control" id="member-password"
                                            placeholder="Password">
                                    </div>

                                    <!--Error Message DIV-->
                                    <div class="text-center mt-2">
                                        <p class="log-in-error"></p>
                                    </div>

                                    <!-- End of ERROR DIV-->

                                    <div class="modal-footer">
                                        <button type="submit" class="btn btn-primary" id="log-in-button">LOGIN</button>
                                        <button type="reset" class="btn btn-primary" id="cancel-button"
                                            data-dismiss="modal">CANCEL</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <br>
                <!--EXTRA CONTENT CARD-->
                <div class="card" id="content">
                    <!-- <img src="..." class="card-img-top" alt="..."> -->
                    <div class="card-header">NEW GAME RELEASES</div>
                    <div class="card-body" id="new-games">
                    
                    </div>
                </div>
            </div>
            <!--This is the closing main row div>-->
        </div>
        <!--FOOTER IT NEEDS TO BE PASTED ACROSS THE PAGES-->
        <div class="row mt-5 bg-secondary">
            <footer class="page-footer font-small text-center  m-auto pt-2">
                <!--This is the top part of the footer with lnk to homepage-->
                <div class="footer-copyright text-center py-3">Â© 2019 Copyright:
                    <a id="homepage-footer-link" href="https://aw-exe.github.io/Level-Up-Gaming-Site/"> Level Up
                        Gaming</a>
                </div>
                <!--icons div for footer-->
                <!--SOCIAL MEDIA ICONS-->
                <div id="icons" class="mb-2">
                    <!--facebook link-->
                    <a href="https://www.facebook.com/search/top/?q=gaming&epa=SEARCH_BOX">
                        <i class="facebook fab fa-lg fa-facebook"></i>
                    </a>
                    <!--Twitch link-->
                    <a href="https://www.twitch.tv/">
                        <i class="twitch fab fa-lg fa-twitch"></i>
                    </a>

                    <!--Twitter link-->
                    <a href="https://twitter.com/hashtag/gaming?lang=en">
                        <i class="twitter fab fa-lg fa-twitter-square"></i>
                    </a>

                    <!--Instagram link-->
                    <a href="https://www.instagram.com/explore/tags/gaming/?hl=en">
                        <i class="instagram fab fa-lg fa-instagram"></i>
                    </a>

                    <!--Youtubelink-->
                    <a href="https://www.youtube.com/channel/UCOpNcN46UbXVtpKMrmU4Abg">
                        <i class="youtube fab fa-lg fa-youtube"></i>
                    </a>

                </div>

            </footer>
        </div>

            <script>
                
            </script>

            <!-- Link to Moment.js should go here -->
            <script src="https://cdn.jsdelivr.net/npm/moment@2.24.0/moment.min.js"></script>
            <!-- Firebase Core JavaScript Link -->
            <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-app.js"></script>
            <!-- Specific Firebase products we want (Database) -->
            <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-database.js"></script>
            <!-- jQuery first, then Popper.js, then Bootstrap JS -->
            <script src="https://code.jquery.com/jquery-3.4.1.min.js"
                integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
            <!-- Bootstrap Javascript File-->
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
                integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
                crossorigin="anonymous">
           </script>
           <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

            <!--New firebase we want to use AUTH & FIRESTORE our new databse-->
            <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-auth.js"></script>
            <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-firestore.js"></script>
            <script src="assets/levelUp.js"></script>

            <script>

            $(document).ready(function() {

            //   $("#gif-submit").keyup(function(event) {

            //     if (event.keycode === 13) {
            //         event.preventDefault();


            //     }

            //   });  

            $("#gif-submit").on("click", function (event) {

                    event.preventDefault();
                    let search = $("#gif-input").val().trim();
                    search = search.replace(/ /g, "+");
                    const queryURL = `https://api.giphy.com/v1/gifs/search?q=` + search + `&api_key=mG7YbA6SQ8q8PRgpYLumQ16Fg2xaNZpu&limit=10`
                    searchGifs(queryURL);

            });
              
                    function searchGifs(queryURL){

                    $.ajax({
              
                      url: queryURL,
                      method: "GET"
              
                    }).then(function (response) {
              
                      $("#gifs").empty();
                      console.log(queryURL);
                      console.log(response);
              
                      const results = response.data;
                      for (let i = 0; i < results.length; i++) {
                        const newGifDiv = $("<div>");
                        newGifDiv.addClass("newGifDiv");
                        const p = $("<p>").text("Rating: " + results[i].rating);
                        const gifImg = $("<img>");
                        gifImg.addClass("gameGifs");
                        gifImg.attr("src", results[i].images.fixed_height.url);
              
                        newGifDiv.append(p);
                        newGifDiv.append(gifImg);
                        $("#gifs").prepend(newGifDiv);
                      }
              
                    });
                    
                  }

                });

                  
                  </script>

</body>